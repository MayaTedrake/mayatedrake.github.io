<!DOCTYPE html>
<html lang="en-US" style="background-color:white; margin:0; min-height:100vh;">
<head>
    <title>Tic Tac Toe</title>
    <link href='https://fonts.googleapis.com/css?family=Bubblegum Sans' rel='stylesheet'>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: min(22px, 4vw);
            background-color: white;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(3, min(100px, 20vw));
            gap: 2px;
            background-color: black;
            padding: 2px;
            width: fit-content;
            margin: 20px auto;
        }
        .cell {
            background-color: white;
            height: min(100px, 20vw);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: min(40px, 8vw);
            cursor: pointer;
        }
        #turn-display {
            text-align: center;
            margin: 10px auto;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
            width: min(304px, 60vw);
        }
    </style>
</head>


    <div style="display: flex; justify-content: center; align-items: flex-start; gap: min(50px, 5vw); margin-top: min(100px, 15vh); flex-wrap: wrap;">
        <div style="text-align: center;">
            <div id="tictactoe" class="grid">
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell"></div>
                <div class="cell"></div>
            </div>
            <div id="turn-display">
                <script>
                    window.onload = function() {
                        const cells = document.querySelectorAll('.cell');
                        const turnDisplay = document.getElementById('turn-display');
                        
                        function checkWin(symbol) {
                            const lines = [
                                [0,1,2], [3,4,5], [6,7,8], // Rows
                                [0,3,6], [1,4,7], [2,5,8], // Columns
                                [0,4,8], [2,4,6] // Diagonals
                            ];
                            
                            for (let line of lines) {
                                const values = line.map(i => cells[i].textContent);
                                if (values.every(v => v === symbol)) {
                                    return true;
                                }
                            }
                            return false;
                        }

                        function checkTie() {
                            return Array.from(cells).every(cell => cell.textContent !== '');
                        }

                        function checkWinningMove(symbol) {
                            const lines = [
                                [0,1,2], [3,4,5], [6,7,8], // Rows
                                [0,3,6], [1,4,7], [2,5,8], // Columns
                                [0,4,8], [2,4,6] // Diagonals
                            ];
                            
                            for (let line of lines) {
                                const values = line.map(i => cells[i].textContent);
                                const emptyIndex = line[values.indexOf('')];
                                if (values.filter(v => v === symbol).length === 2 && values.includes('')) {
                                    return emptyIndex;
                                }
                            }
                            return -1;
                        }

                        function computerMove() {
                            // First try to win
                            let moveIndex = checkWinningMove('X');
                            
                            // If no winning move, try to block opponent
                            if (moveIndex === -1) {
                                moveIndex = checkWinningMove('O');
                            }
                            
                            // If no blocking needed, make random move
                            if (moveIndex === -1) {
                                const emptyCells = Array.from(cells).filter(c => !c.textContent);
                                if (emptyCells.length > 0) {
                                    const randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];
                                    moveIndex = Array.from(cells).indexOf(randomCell);
                                }
                            }
                            
                            return moveIndex;
                        }

                        const firstPlayer = Math.random() < 0.5 ? 'You' : 'Computer';
                        turnDisplay.textContent = firstPlayer === 'Computer' ? 
                            "Computer starts first!" : "Your turn!";
                        
                        if (firstPlayer === 'Computer') {
                            setTimeout(() => {
                                const randomCell = Math.floor(Math.random() * 9);
                                cells[randomCell].textContent = 'X';
                                turnDisplay.textContent = "Your turn!";
                            }, 1000);
                        }

                        cells.forEach(cell => {
                            cell.addEventListener('click', () => {
                                if (turnDisplay.textContent === "Your turn!" && !cell.textContent) {
                                    cell.textContent = 'O';
                                    
                                    if (checkWin('O')) {
                                        turnDisplay.textContent = "You won!";
                                        return;
                                    }
                                    
                                    if (checkTie()) {
                                        turnDisplay.textContent = "Tie!";
                                        return;
                                    }

                                    turnDisplay.textContent = "Computer's turn!";
                                    
                                    // Computer's turn
                                    setTimeout(() => {
                                        const moveIndex = computerMove();
                                        if (moveIndex !== -1) {
                                            cells[moveIndex].textContent = 'X';
                                            
                                            if (checkWin('X')) {
                                                turnDisplay.textContent = "Computer won!";
                                                return;
                                            }
                                            
                                            if (checkTie()) {
                                                turnDisplay.textContent = "Tie!";
                                                return;
                                            }

                                            turnDisplay.textContent = "Your turn!";
                                        }
                                    }, 1000);
                                }
                            });
                        });
                    }
                </script>
            </div>
        </div>

        <div style="background-color: #f0f0f0; padding: 20px; border-radius: 10px; width: min(300px, 80vw);">
            <h2 style="margin-top: 0;">Instructions:</h2>
            <ul style="padding-left: 20px;">
            
            </ul>
        </div>
    </div>

</body>
</html>
